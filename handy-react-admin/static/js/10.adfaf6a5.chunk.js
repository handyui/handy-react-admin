(window["webpackJsonprefo-css"]=window["webpackJsonprefo-css"]||[]).push([[10],{1403:function(e,t,n){"use strict";var a=n(148),r=n(147),c=n(107),o=n(0),i=n.n(o),u=n(1470),l=n(1541),f=n(1535);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=Object(o.forwardRef)(function(e,t){var n=e.columns,r=e.rowKey,p=e.rowSelection,d=e.queryParams,h=e.pageOption,b=e.searchParam,m=e.getListFunc,O=e.type,y=e.onExpand,g=e.callback,v=Object(o.useState)([]),j=Object(c.a)(v,2),w=j[0],I=j[1],x=Object(o.useState)(!1),k=Object(c.a)(x,2),P=k[0],E=k[1],S=n.find(function(e){return"action"===(e.dataIndex||e.key)}),z=S?S.actions:[],C=i.a.useRef(!1),D=function(e){E(!0);var t=s({current:h.current,size:h.pageSize},d,{},b,{},e);m&&m(t).then(function(e){if(200===e.code&&!C.current){var n=e.result,a=n.records,r=n.current,c=n.size,o=n.total;g&&g({searchParam:t,pageOption:{current:r,pageSize:c,total:o}}),O&&"table-tree"===O&&a.forEach(function(e){e.children=[]}),I(a)}}).finally(function(){C.current||E(!1)})},N=function(t,n){return n({record:t,props:e},D)};Object(o.useEffect)(function(){return D(),function(){C.current=!0}},[]),Object(o.useImperativeHandle)(t,function(){return{refreshTable:function(e){D(e)}}});return i.a.createElement(f.a,{rowKey:r,rowSelection:p,columns:function(e){var t=[];return t.push.apply(t,Object(a.a)(e.filter(function(e){return"action"!==e.dataIndex}))),z.length>0&&t.push({title:"\u64cd\u4f5c",key:"action",render:function(e,t){return i.a.createElement(u.b,{size:"middle"},z.map(function(e,n){return["popconfirm"===e.type?i.a.createElement(l.a,{key:n,title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return N(t,e.func)}},i.a.createElement("a",null,"\u5220\u9664")):"","text"===e.type?i.a.createElement("a",{key:n,onClick:function(){return N(t,e.func)}},e.text):""]}))}}),t}(n),dataSource:w,loading:P,pagination:s({},h,{onChange:function(e,t){var n={size:t||h.pageSize,current:e};g&&g({searchParam:b,pageOption:n}),D(n)},pageSizeOptions:["5","10","20","50"],showSizeChanger:!0}),onExpand:y})});d.defaultProps={pageOption:{current:1,pageSize:10},refreshTable:!1},t.a=d},1404:function(e,t){},1407:function(e,t,n){"use strict";var a=n(1403);n.d(t,"BasicTable",function(){return a.a});n(1404)},1412:function(e,t,n){"use strict";var a=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=n(10),o=function(e,t){return a.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="DeleteOutlined";t.a=a.forwardRef(o)},1439:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return u});var a=n(12),r=function(e){return a.a.get("/placeInfo/deletePlace?id=".concat(e))},c=function(e){return a.a.get("/placeInfo/deletePlaces?ids=".concat(e))},o=function(e){return a.a.get("/placeInfo/getPlace?id=".concat(e))},i=function(e){return a.a.post("/placeInfo/getPlacePage",e)},u=function(e){return a.a.post("/placeInfo/savePlace",e)}},1530:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n.n(a),c=n(77),o=n(148),i=n(107),u=n(0),l=n.n(u),f=n(1407),p=n(1439),s=n(1394),d=n(115),h=n(640),b=n(1412),m=n(69),O=n(50),y=n(84),g=n(1405);t.default=function(e){var t=e.history,n=Object(m.b)(),a=Object(m.c)(function(e){return e.layoutReducer.panes}),v=Object(u.useState)([]),j=Object(i.a)(v,2),w=j[0],I=j[1],x=Object(u.useRef)(null),k=Object(u.useRef)(null),P=Object(O.l)(),E=P.pathname,S=P.state,z=Object(u.useState)({pageOption:{},searchParam:{}}),C=Object(i.a)(z,2),D=C[0],N=C[1],R=function(e){var t=a.findIndex(function(t){return Object(O.j)(t.menuPath,{path:e,exact:!0})});if(t>0){var r=a;r.splice(t,1),n(Object(y.e)(Object(o.a)(r)))}},T=function(){var e=Object(c.a)(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:R("/placeInfo/detail/:id"),t.push({pathname:"/placeInfo/detail/".concat(n.placeId),state:{refresh:!0}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),H=[{title:"\u59d3\u540d",dataIndex:"name",key:"name",render:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=n[0];n[1];return l.a.createElement("a",{type:"text",onClick:function(){return T(r)}},e)}},{title:"\u8eab\u4efd\u8bc1\u53f7",dataIndex:"idCardNo",key:"idCardNo"},{title:"\u6027\u522b",dataIndex:"sex",key:"sex",render:function(e){return"M"===e?"\u7537":"\u5973"}},{title:"\u6c11\u65cf",dataIndex:"nation",key:"nation"},{title:"\u653f\u6cbb\u9762\u8c8c",dataIndex:"politicalIdentity",key:"politicalIdentity"},{title:"\u6587\u5316\u7a0b\u5ea6",dataIndex:"educationDegree",key:"educationDegree"},{title:"\u884c\u653f\u533a\u5212",dataIndex:"orgName",key:"orgName"},{title:"\u64cd\u4f5c",dataIndex:"action",actions:[{type:"popconfirm",key:"fileid",text:"\u5220\u9664",permission:{action:"delete",effect:"disabled"},props:{type:"danger"},func:function(){var e=Object(c.a)(r.a.mark(function e(t,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.record,e.next=3,Object(p.a)(a.placeId);case 3:n();case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{type:"text",key:"fileid",text:"\u7f16\u8f91",props:{type:"danger"},func:function(e,n){var a=e.record;R("/placeInfo/edit/:id"),t.push({pathname:"/placeInfo/edit/".concat(a.placeId),state:{refresh:!0}})}}]}],B=function(e){N({pageOption:D.pageOption,searchParam:e}),k.current.refreshTable(e)};Object(u.useEffect)(function(){S&&S.refresh&&"/placeInfo"===E&&B(D.searchParam)},[S]);return l.a.createElement("div",{className:"content"},l.a.createElement(g.a,{ref:x,dynamicValidateForm:{layout:{labelCol:{span:6},wrapperCol:{span:18}},grid:{rowGutter:10,colSpan:6},formItem:[{type:"input",label:"\u4eba\u5458\u59d3\u540d",field:"name",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4eba\u5458\u59d3\u540d"}},{type:"input",label:"\u8eab\u4efd\u8bc1\u53f7",field:"idCardNo",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7\u7801"}}]},callback:B,showBtn:!0},l.a.createElement(d.a,{type:"primary",ghost:!0,icon:l.a.createElement(h.a,null),onClick:function(){t.push({pathname:"/placeInfo/add"})}}," \u6dfb\u52a0 "),l.a.createElement(d.a,{danger:!0,icon:l.a.createElement(b.a,null),onClick:function(){s.a.confirm({title:"\u63d0\u793a",icon:"",content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u9009\u4e2d\u5417\uff1f",onOk:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(w.toString());case 2:k.current.refreshTable(),I([]);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}}," \u5220\u9664 ")),l.a.createElement(f.BasicTable,{ref:k,columns:H,getListFunc:p.d,rowKey:"placeId",rowSelection:{selectedRowKeys:w,onChange:function(e){I(e)}},pageOption:D.pageOption,searchParam:D.searchParam,callback:function(e){return N(e)}}))}}}]);
//# sourceMappingURL=10.adfaf6a5.chunk.js.map