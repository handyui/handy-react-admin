(window["webpackJsonprefo-css"]=window["webpackJsonprefo-css"]||[]).push([[4],{1415:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(188);function r(e,t){if(null==e)return{};var n,r,l=Object(a.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}},1416:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});n(1414);var a=n(348),r=n.n(a),l="YYYY-MM-DD HH:mm:ss",i="YYYY-MM-DD";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r()(e).format(l)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r()(e).format(i)}r.a},1427:function(e,t,n){"use strict";var a=n(148),r=n(42),l=n.n(r),i=n(77),o=n(107),c=n(0),u=n.n(c),s=n(12),p=function(e){return s.a.post("/attachFile/upload",e)},d=function(e){return s.a.get("/attachFile/get/".concat(e),{},{"Content-Type":"application/octet-stream"},"arraybuffer")},f=n(640),b=n(638),v=n(1388),m=n(115),h=n(1394),g=+new Date,y=0;var O=n(264),j=n.n(O),w=n(1438),x=n.n(w),I={insert:"head",singleton:!1};j()(x.a,I),x.a.locals;var E=Object(c.forwardRef)(function(e,t){var n=e.accept,r=e.multiple,O=e.fileList,j=e.ownerId,w=e.disable,x=Object(c.useState)({fileList:[],loading:!1}),I=Object(o.a)(x,2),E=I[0],k=I[1],D=Object(c.useState)([]),L=Object(o.a)(D,2),S=L[0],T=L[1],P=Object(c.useState)(new Map),N=Object(o.a)(P,2),U=N[0],C=N[1],R=Object(c.useState)({previewVisible:!1,previewTitle:"",previewImage:""}),A=Object(o.a)(R,2),V=A[0],B=A[1],F=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,a=new Blob([n]),r=URL.createObjectURL(a),C(U.set(t,r)),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(e){e&&e.forEach(function(){var e=Object(i.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t.id);case 2:t.imageUrl=e.sent,t.fileType="ddddd";case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),setTimeout(function(){k({fileList:e&&Object(a.a)(e),loading:!1})},500)};Object(c.useEffect)(function(){z(O)},[O]);var q=function(e){console.log("id2",e),k({fileList:Object(a.a)(E.fileList),loading:!1}),function(e){return s.a.get("/attachFile/delete/".concat(e))}(e).then(function(t){var n=t.code,r=t.message;if(200===n){var l=E.fileList.findIndex(function(t,n){return t.id===e}),i=E.fileList;i.splice(l,1),k({fileList:i,loading:!1});var o=S.findIndex(function(t,n){return t===e}),c=S;c.splice(o,1),T(Object(a.a)(c)),b.b.success(r)}else b.b.error(r)})};Object(c.useImperativeHandle)(t,function(){return{getfileIds:function(){var e=[];return E.fileList.map(function(t){return e.push(t.id)}),e},setfileList:function(e){return z(e)}}});return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"upload-list",ref:t},E.fileList&&E.fileList.length>0&&E.fileList.map(function(e,t){return u.a.createElement("div",{key:t,className:"upload-list-item"},u.a.createElement(v.a,{tip:"Loading...",spinning:"uploading"===e.status},u.a.createElement("div",{className:"upload-list-item-info",onClick:function(){return function(e){B({previewVisible:!0,previewTitle:"",previewImage:e})}(e.imageUrl)}},u.a.createElement("img",{src:e.imageUrl,alt:"avatar",style:{width:"100%"}})),w?"":u.a.createElement("div",{className:"upload-list-item-actions"},u.a.createElement(m.a,{type:"link",size:"small",onClick:function(){return function(e){var t=e.id,n=e.fileName;d(t).then(function(e){var t=new Blob([e]),a=URL.createObjectURL(t),r=document.createElement("a");r.download=n,r.href=a,r.click()})}(e)}},"\u4e0b\u8f7d"),u.a.createElement(m.a,{type:"link",size:"small",onClick:function(){return q(e.id)}},"\u5220\u9664"))))}),E.loading||w?"":u.a.createElement("div",{className:"upload-list-item-info upload-select"},u.a.createElement("span",{tabIndex:0,className:"upload",role:"button"},u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files;if(0!==t.length){var n=E.fileList;t[0].uid="upload-".concat(g,"-").concat(++y),t[0].status="uploading",function(e,t){var n=new FileReader;n.addEventListener("load",function(){return t(n.result)}),n.readAsDataURL(e)}(t[0],function(e){-1===n.findIndex(function(e){return e===t[0].uid})&&n.push({uid:t[0].uid,imageUrl:e,id:"",fileName:t[0].name,status:"uploading"}),k({fileList:Object(a.a)(n),loading:!0});var r=new FormData;r.append("file",t[0]),r.append("fileType",""),r.append("ownerId",j),p(r).then(function(e){var r=e.code,l=e.result;if(200===r){var i=n.filter(function(e){return e.uid===t[0].uid})[0];i.id=l.id,i.status="done",k({fileList:Object(a.a)(n),loading:!1}),T([].concat(Object(a.a)(S),[l.id]))}else{var o=n.filter(function(e){return e.fileName===l.fileName})[0];o.id=l.id,o.status="error",k({fileList:Object(a.a)(E.fileList),loading:!1})}})})}},multiple:r,accept:n}),u.a.createElement("div",null,u.a.createElement(f.a,null),u.a.createElement("div",{style:{marginTop:"8px"}},"\u4e0a\u4f20"))))),u.a.createElement(h.a,{visible:V.previewVisible,title:V.previewTitle,footer:null,onCancel:function(){B({previewVisible:!1,previewTitle:"",previewImage:""})}},u.a.createElement("img",{alt:"example",style:{width:"100%"},src:V.previewImage})))});E.defaultProps={multiple:!1,disable:!1};var k=E,D=n(4),L=n.n(D);var S=Object(c.forwardRef)(function(e,t){var n=e.accept,a=e.multiple,r=e.fileId,s=e.ownerId,b=e.className,m=Object(c.useState)([]),h=Object(o.a)(m,2),g=h[0],y=(h[1],Object(c.useState)({imageUrl:"",id:"",fileName:"",status:"done"})),O=Object(o.a)(y,2),j=O[0],w=O[1],x=Object(c.useState)(new Map),I=Object(o.a)(x,2),E=I[0],k=I[1],D=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,a=new Blob([n]),r=URL.createObjectURL(a),k(E.set(t,r)),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getAsyncDatassss",r),e.next=3,D(t);case 3:n=e.sent,w({imageUrl:n,id:t,fileName:"",status:"done"});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){console.log("fileId",r),S(r)},[r]);Object(c.useImperativeHandle)(t,function(){return{getfileIds:function(){return console.log("arr",j.id),j.id},setfileList:function(e){return S(e)}}});var T=L()("upload-list avatar-upload",b),P=L()("upload-list-item-info upload-select",{"avatar-upload-select":j.imageUrl});return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:T,ref:t},j.imageUrl&&u.a.createElement("div",{className:"upload-list-item"},u.a.createElement(v.a,{tip:"Loading...",spinning:"uploading"===j.status},u.a.createElement("div",{className:"upload-list-item-info"},u.a.createElement("img",{src:j.imageUrl,alt:"avatar",style:{width:"100%"}})))),u.a.createElement("div",{className:P},u.a.createElement("span",{tabIndex:0,className:"upload",role:"button"},u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files;0!==t.length&&function(e,t){var n=new FileReader;n.addEventListener("load",function(){return t(n.result)}),n.readAsDataURL(e)}(t[0],function(e){g.push({imageUrl:e,id:"",fileName:t[0].name,status:"uploading"}),w({imageUrl:e,id:"",fileName:t[0].name,status:"uploading"});var n=new FormData;n.append("file",t[0]),n.append("fileType",""),n.append("ownerId",s),p(n).then(function(n){var a=n.code,r=n.result;w(200===a?{imageUrl:e,id:r.id,fileName:t[0].name,status:"done"}:{imageUrl:e,id:r.id,fileName:t[0].name,status:"error"})})})},multiple:a,accept:n}),u.a.createElement("div",null,u.a.createElement(f.a,null),u.a.createElement("div",{style:{marginTop:"8px"}},"\u4e0a\u4f20\u8bc1\u4ef6\u7167"))))))});S.defaultProps={multiple:!1,disable:!1};var T=S;n.d(t,"b",function(){return k}),n.d(t,"a",function(){return T})},1438:function(e,t,n){(e.exports=n(448)(!1)).push([e.i,'.singleUpload {\n  width: 128px;\n  height: 128px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  text-align: center;\n  vertical-align: top;\n  background-color: #fafafa;\n  border: 1px dashed #d9d9d9;\n  border-radius: 2px;\n  cursor: pointer;\n  -webkit-transition: border-color .3s;\n  transition: border-color .3s; }\n\n.upload-select {\n  width: 104px;\n  height: 104px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  text-align: center;\n  vertical-align: top;\n  background-color: #fafafa;\n  border: 1px dashed #d9d9d9;\n  border-radius: 2px;\n  -webkit-transition: border-color .3s;\n  transition: border-color .3s;\n  cursor: pointer; }\n\n.upload-list {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n  font-variant: tabular-nums;\n  list-style: none;\n  -webkit-font-feature-settings: "tnum";\n  font-feature-settings: "tnum";\n  line-height: 1.5715; }\n\n.upload-list-item {\n  display: inline-block;\n  width: 104px;\n  height: 134px;\n  margin: 0 8px 8px 0;\n  vertical-align: top; }\n  .upload-list-item-info {\n    display: inline-block;\n    width: 104px;\n    height: 104px;\n    overflow: hidden;\n    border: 1px solid #c9c9c9; }\n    .upload-list-item-info img {\n      width: 100%;\n      height: 100%;\n      -o-object-fit: scale-down;\n      object-fit: scale-down; }\n  .upload-list-item-actions {\n    text-align: center; }\n\n.upload {\n  overflow: hidden;\n  position: relative;\n  outline: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center; }\n  .upload input {\n    position: absolute;\n    top: -29px;\n    left: -10px;\n    width: 120%;\n    height: 150%;\n    overflow: hidden;\n    cursor: pointer;\n    opacity: 0; }\n\n.avatar-upload {\n  position: relative;\n  width: 150px;\n  height: 200px;\n  border-radius: 10px;\n  overflow: hidden; }\n  .avatar-upload .upload-list-item {\n    width: 150px;\n    height: 200px; }\n  .avatar-upload .upload-list-item-info {\n    display: inline-block;\n    width: 150px;\n    height: 200px;\n    overflow: hidden;\n    border: none;\n    background: #e9e9e9; }\n  .avatar-upload .avatar-upload-select {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    opacity: 0; }\n',""])},1439:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return c});var a=n(12),r=function(e){return a.a.get("/placeInfo/deletePlace?id=".concat(e))},l=function(e){return a.a.get("/placeInfo/deletePlaces?ids=".concat(e))},i=function(e){return a.a.get("/placeInfo/getPlace?id=".concat(e))},o=function(e){return a.a.post("/placeInfo/getPlacePage",e)},c=function(e){return a.a.post("/placeInfo/savePlace",e)}},1443:function(e,t,n){"use strict";var a=n(1415),r=n(42),l=n.n(r),i=n(147),o=n(77),c=n(148),u=n(107),s=n(0),p=n.n(s),d=n(638),f=n(1470),b=n(115),v=n(1405),m=n(263),h=n(447),g=n(1427);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var O=Object(s.forwardRef)(function(e,t){var n=Object(s.useContext)(P),a=n.modalType,r=n.resData,c=n.fileList,d=n.veteransId,f=Object(s.useRef)(null),b=Object(s.useRef)(null),O={layout:{labelCol:{span:8},wrapperCol:{span:12}},grid:{rowGutter:10,colSpan:12},formItem:[{type:"title",title:"\u4e2a\u4eba\u57fa\u672c\u4fe1\u606f"},{type:"input",label:"\u540d\u79f0",field:"name",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"}},{type:"tree-select",label:"\u884c\u653f\u533a\u57df",field:"organizationId",value:void 0,loading:!0,props:{placeholder:"\u8bf7\u9009\u62e9\u5355\u4f4d",treeDefaultExpandAll:!1},asyncOptions:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.u)();case 2:return a=e.sent,r=a.result,i=Object(h.b)(r[0]),e.abrupt("return",i?[i]:[]);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{type:"radio",label:"\u6027\u522b",field:"sex",value:"",options:[{value:"M",label:"\u7537"},{value:"F",label:"\u5973"}]},{type:"select",label:"\u6c11\u65cf",field:"nation",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u6c11\u65cf"},asyncOptions:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.o)("300029");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{type:"input",label:"\u66fe\u7528\u540d",field:"nameUsedBefore",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u66fe\u7528\u540d"}},{type:"radio",label:"\u59d4\u6258\u4ee3\u529e",field:"agentOrNot",value:"",options:[{value:"0",label:"\u662f"},{value:"1",label:"\u5426"}]},{type:"date-pcker",label:"\u51fa\u751f\u65e5\u671f",field:"birthDate",value:"2020-12-29 09:23:14",props:{placeholder:"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f"}},{type:"input",label:"\u8eab\u4efd\u8bc1\u53f7",field:"idCardNo",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7"}},{type:"input",label:"\u6237\u7c4d\u5730",field:"domicile",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u6237\u7c4d\u5730"}},{type:"input",label:"\u7b7e\u53d1\u673a\u5173",field:"signingIssuingOrganization",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u7b7e\u53d1\u673a\u5173"}},{type:"date-pcker",label:"\u6709\u6548\u671f",field:"termValidityEnd",value:"",props:{placeholder:"\u8bf7\u9009\u62e9\u6709\u6548\u671f"}},{type:"select",label:"\u6587\u5316\u7a0b\u5ea6",field:"educationDegree",value:"",props:{placeholder:"\u6587\u5316\u7a0b\u5ea6"},asyncOptions:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.o)("300028");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{type:"input",label:"\u5b9e\u9645\u5c45\u4f4f\u5730\u5740",field:"actualAddress",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9645\u5c45\u4f4f\u5730\u5740"}},{type:"select",label:"\u6237\u53e3\u7c7b\u578b",field:"householdType",value:"",props:{placeholder:"\u8bf7\u9009\u62e9\u6237\u53e3\u7c7b\u522b"},asyncOptions:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.o)("300031");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{type:"select",label:"\u5a5a\u59fb\u72b6\u51b5",field:"maritalStatus",value:"",props:{placeholder:"\u8bf7\u9009\u62e9\u5a5a\u59fb\u72b6\u51b5"},asyncOptions:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.o)("300030");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{type:"input",label:"\u56fa\u5b9a\u7535\u8bdd",field:"fixedTelephone",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u56fa\u5b9a\u7535\u8bdd"}},{type:"input",label:"\u8054\u7cfb\u7535\u8bdd",field:"phone",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd"}},{type:"input",label:"\u5fae\u4fe1\u6216\u8005qq",field:"wechatQq",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u6216\u8005qq"}},{type:"input",label:"\u5907\u6ce8",field:"remarks",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"}},{type:"slot",label:"\u9644\u4ef6",field:"fileIds",grid:{rowGutter:0,colSpan:24},tailLayout:{labelCol:{span:4},wrapperCol:{span:20}},render:function(){return p.a.createElement(g.b,{ref:b,ownerId:d,fileList:c,disable:"detail"===a})}},{type:"title",title:"\u7c7b\u522b\u4fe1\u606f"},{type:"checkbox",label:"\u4eba\u5458\u7c7b\u578b",field:"personnelType",value:"",grid:{rowGutter:0,colSpan:24},tailLayout:{labelCol:{span:4},wrapperCol:{span:20}},options:[{label:"\u519b\u961f\u8f6c\u4e1a\u5e72\u90e8",value:"1"},{label:"\u9000\u5f79\u58eb\u5175",value:"2"},{label:"\u519b\u961f\u79bb\u9000\u4f11\u5e72\u90e8\u548c\u9000\u4f11\u58eb\u5b98",value:"3"},{label:"\u519b\u961f\u65e0\u519b\u7c4d\u79bb\u9000\u4f11\u9000\u804c\u804c\u5de5",value:"4"},{label:"\u9000\u4f0d\u7ea2\u519b\u8001\u6218\u58eb",value:"5"},{label:"\u590d\u5458\u519b\u4eba",value:"6"},{label:"\u6b8b\u75be\u519b\u4eba",value:"7"},{label:"\u4f24\u6b8b\u6c11\u5175\u6c11\u5de5",value:"8"},{label:"\u70c8\u58eb\u9057\u5c5e",value:"9"},{label:"\u56e0\u516c\u727a\u7272\u519b\u4eba\u9057\u5c5e",value:"10"},{label:"\u75c5\u6545\u519b\u4eba\u9057\u5c5e",value:"11"},{label:"\u73b0\u5f79\u519b\u4eba\u5bb6\u5c5e",value:"12"}]},{type:"title",title:"\u751f\u6d3b\u72b6\u51b5"},{type:"input",label:"\u4e2a\u4eba\u5e74\u6536\u5165(\u5143)",field:"personAnnualIncome",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4e2a\u4eba\u5e74\u6536\u5165"}},{type:"checkbox",label:"\u533b\u7597\u4fdd\u9669",field:"medicalInsurance",value:"",options:[{label:"\u57ce\u4e61\u5c45\u6c11\u57fa\u672c\u533b\u7597\u4fdd\u9669",value:"1"},{label:"\u804c\u5de5\u57fa\u672c\u533b\u7597\u4fdd\u9669",value:"2"},{label:"\u516c\u8d39\u533b\u7597",value:"3"},{label:"\u65e0",value:"4"}]},{type:"checkbox",label:"\u517b\u8001\u4fdd\u9669",field:"pensionBenefits",value:"",options:[{label:"\u57ce\u4e61\u5c45\u6c11\u793e\u4f1a\u517b\u8001\u4fdd\u9669",value:"1"},{label:"\u804c\u5de5\u57fa\u672c\u517b\u8001\u4fdd\u9669",value:"2"},{label:"\u79bb\u9000\u4f11\u91d1",value:"3"},{label:"\u65e0",value:"4"}]},{type:"input",label:"\u4f4f\u623f\u516c\u79ef\u91d1",field:"housingFunds",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4f4f\u623f\u516c\u79ef\u91d1"}},{type:"input",label:"\u4eab\u53d7\u56fd\u5bb6\u629a\u6064\u8865\u52a9\u91d1\u60c5\u51b5",field:"statePension",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4eab\u53d7\u56fd\u5bb6\u629a\u6064\u8865\u52a9\u91d1\u60c5\u51b5"}},{type:"input",label:"\u4eab\u53d7\u6b8b\u5e9f\u4eba\u4e24\u9879\u8865\u8d34",field:"disabledWelfare",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4eab\u53d7\u6b8b\u5e9f\u4eba\u4e24\u9879\u8865\u8d34"}},{type:"checkbox",label:"\u4f4f\u623f\u72b6\u51b5",field:"houseType",value:"",options:[{label:"\u65e0",value:"1"},{label:"\u81ea\u5efa\u623f",value:"2"},{label:"\u516c\u6709\u4f4f\u623f",value:"3"},{label:"\u7ecf\u6d4e\u9002\u7528\u623f",value:"4"},{label:"\u516c\u79df\u623f",value:"5"},{label:"\u5ec9\u79df\u623f",value:"6"},{label:"\u5546\u54c1\u623f",value:"7"},{label:"\u8fd8\u5efa\u623f",value:"8"},{label:"\u5176\u5b83",value:"9"}]},{type:"select",label:"\u793e\u4f1a\u6551\u52a9\u72b6\u51b5",field:"socialAssistance",value:"",options:[{label:"\u4f4e\u4fdd",value:"1"},{label:"\u4e94\u4fdd",value:"2"},{label:"\u5efa\u6863\u7acb\u5361\u8d2b\u56f0\u6237",value:"3"},{label:"\u65e0",value:"4"}]},{type:"title",title:"\u5176\u5b83\u60c5\u51b5"},{type:"checkbox",label:"\u4e3b\u8981\u56f0\u96be",field:"mainDifficulties",value:"",options:[{label:"\u5c31\u4e1a",value:"3"},{label:"\u751f\u6d3b",value:"4"},{label:"\u4f4f\u623f",value:"5"},{label:"\u533b\u7597",value:"6"},{label:"\u517b\u8001",value:"7"},{label:"\u6559\u80b2",value:"8"},{label:"\u5176\u5b83",value:"9"}]},{type:"checkbox",label:"\u4e3b\u8981\u8bc9\u6c42",field:"mainDemands",value:"",options:[{label:"\u63d0\u9ad8\u5f85\u9047\u95ee\u9898",value:"1"},{label:"\u786e\u8ba4\u8eab\u4efd\u95ee\u9898",value:"2"},{label:"\u5b89\u6392\u5de5\u4f5c\u95ee\u9898",value:"3"},{label:"\u89e3\u51b3\u4e09\u96be\u95ee\u9898",value:"4"},{label:"\u89e3\u51b3\u793e\u4fdd\u95ee\u9898",value:"5"},{label:"\u5176\u5b83",value:"6"}]},{type:"input",label:"\u5177\u4f53\u8bc9\u6c42(\u4e0d\u8d85\u8fc7500\u5b57)",field:"specificDemands",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u5177\u4f53\u8bc9\u6c42"}}]},j=Object(s.useState)(O),w=Object(u.a)(j,2),x=w[0],I=(w[1],Object(s.useState)(null)),E=Object(u.a)(I,2),k=E[0],D=E[1];return Object(s.useEffect)(function(){console.log("modalType=====\u300b",a),r&&D(r.veteransBaseInfo)},[]),Object(s.useImperativeHandle)(t,function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},b.current,{},f.current)}),p.a.createElement(p.a.Fragment,null,p.a.createElement(v.a,{ref:f,fields:k,dynamicValidateForm:x,modalType:a}))}),j=n(1439),w=n(1416),x=n(50),I=n(69),E=n(348),k=n.n(E),D=n(84),L=n(1388);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return P});var P=p.a.createContext({modalType:"edit"}),N=Object(s.forwardRef)(function(e,t){var n=e.modalType,r=Object(x.k)(),i=Object(x.l)(),v=i.state,m=Object(I.c)(function(e){return e.layoutReducer.panes}),h=Object(I.b)(),g=Object(s.useState)(!1),y=Object(u.a)(g,2),E=y[0],S=y[1],N=Object(s.useState)(),U=Object(u.a)(N,2),C=(U[0],U[1],Object(s.useState)(n)),R=Object(u.a)(C,2),A=R[0],V=(R[1],Object(s.useState)()),B=Object(u.a)(V,2),F=B[0],z=B[1],q=Object(s.useState)([]),H=Object(u.a)(q,2),Y=(H[0],H[1]),M=Object(s.useState)(""),Q=Object(u.a)(M,2),G=(Q[0],Q[1]),J=Object(s.useRef)(!1),W=Object(s.useRef)(null),K=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a,r,i,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Object(j.c)(t);case 3:n=e.sent,a=n.result,200!==n.code||J.current||(console.log("ssssssss",W),z(a),Y(a.fileList),G(a.veteransId),r=a.veteransBaseInfo,i=r.birthDate,o=r.termValidityEnd,c=r.termValidityStart,W.current&&W.current.setFieldsValue(T({},a,{},a.veteransBaseInfo,{birthDate:i?k()(i):null,termValidityEnd:o?k()(o):null,termValidityStart:c?k()(c):null})),W.current&&W.current.setfileList(a.fileList)),S(!1);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=function(){var e=i.pathname.split("/").slice(0,3).join("/");return Object(x.j)(i.pathname,{path:"".concat(e,"/:id"),exact:!0})}();console.log("a",e),e&&e.params.id&&K(e.params.id)};Object(s.useEffect)(function(){return function(){J.current=!0}},[]),Object(s.useEffect)(function(){v&&v.refresh&&X()},[v]);var Z=function(){!function(e){var t=m.findIndex(function(t){return t.menuPath===e});if(t>0){var n=m;n.splice(t,1),h(Object(D.e)(Object(c.a)(n)))}}(i.pathname),r.push({pathname:"/placeInfo",state:{refresh:!0}})},$=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,r,i,o,c,u,s,p,f,b,v,m,h,g,y,O,x,I,E,k,D,L,S,P,N,U,C,R,V,B,z,q,H,Y,M,Q;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=W.current,!e.t0){e.next=6;break}return e.next=5,W.current.validateFields();case 5:e.t0=e.sent;case 6:return n=e.t0,r=n.actualAddress,i=n.domicile,o=n.educationDegree,c=n.fixedTelephone,u=n.health,s=n.householdAddress,p=n.householdAddressType,f=n.householdType,b=n.idCardNo,v=n.idPhoto,m=n.maritalStatus,h=n.name,g=n.nameUsedBefore,y=n.nation,O=n.organizationId,x=n.phone,I=n.politicalIdentity,E=n.remarks,k=n.sex,D=n.signingIssuingOrganization,L=n.veteransId,S=n.wechatQq,P=n.whetherHk,N=n.birthDate,U=n.termValidityEnd,C=n.termValidityStart,n.fileIds,R=n.houseType,V=n.mainDemands,B=n.mainDifficulties,z=n.medicalInsurance,q=n.pensionBenefits,H=n.personnelType,Y=Object(a.a)(n,["actualAddress","domicile","educationDegree","fixedTelephone","health","householdAddress","householdAddressType","householdType","idCardNo","idPhoto","maritalStatus","name","nameUsedBefore","nation","organizationId","phone","politicalIdentity","remarks","sex","signingIssuingOrganization","veteransId","wechatQq","whetherHk","birthDate","termValidityEnd","termValidityStart","fileIds","houseType","mainDemands","mainDifficulties","medicalInsurance","pensionBenefits","personnelType"]),M=T({placeId:"edit"===A?F.placeId:null,version:"edit"===A?F.version:null,veteransId:"edit"===A?L:null,type:"edit"===A?F.type:null,fileIds:W.current.getfileIds(),houseType:R.toString(),mainDemands:V.toString(),mainDifficulties:B.toString(),medicalInsurance:z.toString(),pensionBenefits:q.toString(),personnelType:H.toString(),state:t},Y,{veteransBaseInfoAddReq:{veteransId:"edit"===A?L:null,version:"edit"===A?F.veteransBaseInfo.version:null,actualAddress:r,birthDate:N?Object(w.b)(N):null,domicile:i,educationDegree:o,fixedTelephone:c,health:u,householdAddress:s,householdAddressType:p,householdType:f,idCardNo:b,idPhoto:v,maritalStatus:m,name:h,nameUsedBefore:g,nation:y,organizationId:O,phone:x,politicalIdentity:I,remarks:E,sex:k,signingIssuingOrganization:D,termValidityEnd:U?Object(w.b)(U):null,termValidityStart:C?Object(w.b)(C):null,wechatQq:S,whetherHk:P}}),e.next=11,Object(j.e)(M);case 11:Q=e.sent,200===Q.code&&(d.b.success("\u64cd\u4f5c\u6210\u529f"),Z()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.log(e.t1);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();return Object(s.useImperativeHandle)(t,function(){return{resData:F||{},close:Z,forceUpdate:X}}),p.a.createElement(P.Provider,{value:{modalType:A,resData:F,fileList:F?F.fileList:[],veteransId:F?F.veteransId:null}},p.a.createElement("div",{className:"content form-content"},p.a.createElement(L.a,{spinning:E},p.a.createElement(O,{ref:W}),"detail"!==A?p.a.createElement("div",{className:"form-footer center"},p.a.createElement(f.b,null,p.a.createElement(b.a,{type:"primary",onClick:function(){return $("0")}},"\u4fdd\u5b58"),p.a.createElement(b.a,{type:"primary",onClick:function(){return $("1")}},"\u63d0\u4ea4"),p.a.createElement(b.a,{onClick:Z},"\u5173\u95ed"))):"")))});t.b=N}}]);
//# sourceMappingURL=4.65b7c143.chunk.js.map