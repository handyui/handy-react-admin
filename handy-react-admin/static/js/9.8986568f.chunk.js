(window["webpackJsonprefo-css"]=window["webpackJsonprefo-css"]||[]).push([[9],{1403:function(e,t,r){"use strict";var n=r(148),a=r(147),c=r(107),o=r(0),i=r.n(o),u=r(1470),l=r(1541),s=r(1535);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=Object(o.forwardRef)(function(e,t){var r=e.columns,a=e.rowKey,p=e.rowSelection,b=e.queryParams,d=e.pageOption,O=e.searchParam,y=e.getListFunc,m=e.type,g=e.onExpand,j=e.callback,h=Object(o.useState)([]),w=Object(c.a)(h,2),v=w[0],P=w[1],k=Object(o.useState)(!1),S=Object(c.a)(k,2),E=S[0],x=S[1],I=r.find(function(e){return"action"===(e.dataIndex||e.key)}),D=I?I.actions:[],z=i.a.useRef(!1),C=function(e){x(!0);var t=f({current:d.current,size:d.pageSize},b,{},O,{},e);y&&y(t).then(function(e){if(200===e.code&&!z.current){var r=e.result,n=r.records,a=r.current,c=r.size,o=r.total;j&&j({searchParam:t,pageOption:{current:a,pageSize:c,total:o}}),m&&"table-tree"===m&&n.forEach(function(e){e.children=[]}),P(n)}}).finally(function(){z.current||x(!1)})},T=function(t,r){return r({record:t,props:e},C)};Object(o.useEffect)(function(){return C(),function(){z.current=!0}},[]),Object(o.useImperativeHandle)(t,function(){return{refreshTable:function(e){C(e)}}});return i.a.createElement(s.a,{rowKey:a,rowSelection:p,columns:function(e){var t=[];return t.push.apply(t,Object(n.a)(e.filter(function(e){return"action"!==e.dataIndex}))),D.length>0&&t.push({title:"\u64cd\u4f5c",key:"action",render:function(e,t){return i.a.createElement(u.b,{size:"middle"},D.map(function(e,r){return["popconfirm"===e.type?i.a.createElement(l.a,{key:r,title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return T(t,e.func)}},i.a.createElement("a",null,"\u5220\u9664")):"","text"===e.type?i.a.createElement("a",{key:r,onClick:function(){return T(t,e.func)}},e.text):""]}))}}),t}(r),dataSource:v,loading:E,pagination:f({},d,{onChange:function(e,t){var r={size:t||d.pageSize,current:e};j&&j({searchParam:O,pageOption:r}),C(r)},pageSizeOptions:["5","10","20","50"],showSizeChanger:!0}),onExpand:g})});b.defaultProps={pageOption:{current:1,pageSize:10},refreshTable:!1},t.a=b},1404:function(e,t){},1407:function(e,t,r){"use strict";var n=r(1403);r.d(t,"BasicTable",function(){return n.a});r(1404)},1415:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(188);function a(e,t){if(null==e)return{};var r,a,c=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}},1416:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return u});r(1414);var n=r(348),a=r.n(n),c="YYYY-MM-DD HH:mm:ss",o="YYYY-MM-DD";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a()(e).format(c)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a()(e).format(o)}a.a},1476:function(e,t,r){"use strict";r.r(t);var n=r(147),a=r(1415),c=r(107),o=r(0),i=r.n(o),u=r(1407),l=r(263),s=r(1405),p=r(1416),f=r(50);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(){var e=Object(o.useRef)(null),t=Object(o.useRef)(null),r=Object(f.l)(),d=r.pathname,O=r.state,y=Object(o.useState)({pageOption:{},searchParam:{}}),m=Object(c.a)(y,2),g=m[0],j=m[1],h=function(e){var r=e.timeRange,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(a.a)(e,["timeRange"]),{startDate:r&&Object(p.a)(r[0]),endDate:r&&Object(p.a)(r[1])});j({pageOption:g.pageOption,searchParam:c}),t.current.refreshTable(c)};Object(o.useEffect)(function(){O&&O.refresh&&"/system/oper"===d&&h(g.searchParam)},[O]);return i.a.createElement("div",{className:"content"},i.a.createElement(s.a,{ref:e,dynamicValidateForm:{layout:{labelCol:{span:8},wrapperCol:{span:16}},grid:{rowGutter:10,colSpan:5},formItem:[{type:"input",label:"\u767b\u5f55\u540d\u79f0",field:"userName",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u767b\u9646\u4eba\u59d3\u540d"}},{type:"input",label:"\u767b\u5f55\u8d26\u53f7",field:"userAccount",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"}},{type:"range-pcker",label:"\u65f6\u95f4",field:"timeRange",value:"",grid:{rowGutter:0,colSpan:7},tailLayout:{labelCol:{span:3},wrapperCol:{span:21}}}]},callback:h,showBtn:!0}),i.a.createElement(u.BasicTable,{ref:t,columns:[{title:"\u64cd\u4f5c\u7c7b\u578b",dataIndex:"operationType",key:"operationType"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"operation",key:"operation"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"userName",key:"userName",ellipsis:!0},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u662f\u5426\u6210\u529f",dataIndex:"succeed",key:"succeed"},{title:"\u5907\u6ce8",dataIndex:"message",key:"message",ellipsis:!0},{title:"\u53c2\u6570",dataIndex:"args",key:"args",ellipsis:!0},{title:"\u64cd\u4f5c\u7cfb\u7edf",dataIndex:"browser",ellipsis:!0},{title:"\u4fee\u6539\u5185\u5bb9",dataIndex:"updateContent",key:"updateContent",ellipsis:!0}],getListFunc:l.s,rowKey:"operationLogId",pageOption:g.pageOption,searchParam:g.searchParam,callback:function(e){return j(e)}}))}}}]);
//# sourceMappingURL=9.8986568f.chunk.js.map