(window["webpackJsonprefo-css"]=window["webpackJsonprefo-css"]||[]).push([[8],{1403:function(e,t,r){"use strict";var n=r(148),a=r(147),c=r(107),o=r(0),i=r.n(o),u=r(1470),l=r(1541),s=r(1535);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=Object(o.forwardRef)(function(e,t){var r=e.columns,a=e.rowKey,p=e.rowSelection,b=e.queryParams,O=e.pageOption,d=e.searchParam,m=e.getListFunc,g=e.type,y=e.onExpand,j=e.callback,h=Object(o.useState)([]),w=Object(c.a)(h,2),v=w[0],P=w[1],S=Object(o.useState)(!1),E=Object(c.a)(S,2),D=E[0],k=E[1],x=r.find(function(e){return"action"===(e.dataIndex||e.key)}),I=x?x.actions:[],z=i.a.useRef(!1),C=function(e){k(!0);var t=f({current:O.current,size:O.pageSize},b,{},d,{},e);m&&m(t).then(function(e){if(200===e.code&&!z.current){var r=e.result,n=r.records,a=r.current,c=r.size,o=r.total;j&&j({searchParam:t,pageOption:{current:a,pageSize:c,total:o}}),g&&"table-tree"===g&&n.forEach(function(e){e.children=[]}),P(n)}}).finally(function(){z.current||k(!1)})},Y=function(t,r){return r({record:t,props:e},C)};Object(o.useEffect)(function(){return C(),function(){z.current=!0}},[]),Object(o.useImperativeHandle)(t,function(){return{refreshTable:function(e){C(e)}}});return i.a.createElement(s.a,{rowKey:a,rowSelection:p,columns:function(e){var t=[];return t.push.apply(t,Object(n.a)(e.filter(function(e){return"action"!==e.dataIndex}))),I.length>0&&t.push({title:"\u64cd\u4f5c",key:"action",render:function(e,t){return i.a.createElement(u.b,{size:"middle"},I.map(function(e,r){return["popconfirm"===e.type?i.a.createElement(l.a,{key:r,title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return Y(t,e.func)}},i.a.createElement("a",null,"\u5220\u9664")):"","text"===e.type?i.a.createElement("a",{key:r,onClick:function(){return Y(t,e.func)}},e.text):""]}))}}),t}(r),dataSource:v,loading:D,pagination:f({},O,{onChange:function(e,t){var r={size:t||O.pageSize,current:e};j&&j({searchParam:d,pageOption:r}),C(r)},pageSizeOptions:["5","10","20","50"],showSizeChanger:!0}),onExpand:y})});b.defaultProps={pageOption:{current:1,pageSize:10},refreshTable:!1},t.a=b},1404:function(e,t){},1407:function(e,t,r){"use strict";var n=r(1403);r.d(t,"BasicTable",function(){return n.a});r(1404)},1415:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(188);function a(e,t){if(null==e)return{};var r,a,c=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}},1416:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return u});r(1414);var n=r(348),a=r.n(n),c="YYYY-MM-DD HH:mm:ss",o="YYYY-MM-DD";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a()(e).format(c)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a()(e).format(o)}a.a},1477:function(e,t,r){"use strict";r.r(t);var n=r(147),a=r(1415),c=r(107),o=r(0),i=r.n(o),u=r(1407),l=r(263),s=r(1405),p=r(1416),f=r(50);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(){var e=Object(o.useRef)(null),t=Object(o.useRef)(null),r=Object(f.l)(),O=r.pathname,d=r.state,m=Object(o.useState)({pageOption:{},searchParam:{}}),g=Object(c.a)(m,2),y=g[0],j=g[1],h=function(e){var r=e.timeRange,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(a.a)(e,["timeRange"]),{startDate:r&&Object(p.a)(r[0]),endDate:r&&Object(p.a)(r[1])});j({pageOption:y.pageOption,searchParam:c}),t.current.refreshTable(c)};Object(o.useEffect)(function(){d&&d.refresh&&"/system/loginLog"===O&&h(y.searchParam)},[d]);return i.a.createElement("div",{className:"content"},i.a.createElement(s.a,{ref:e,dynamicValidateForm:{layout:{labelCol:{span:8},wrapperCol:{span:16}},grid:{rowGutter:10,colSpan:5},formItem:[{type:"input",label:"\u767b\u5f55\u540d\u79f0",field:"userName",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u767b\u9646\u4eba\u59d3\u540d"}},{type:"input",label:"\u767b\u5f55\u8d26\u53f7",field:"userAccount",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"}},{type:"range-pcker",label:"\u65f6\u95f4",field:"timeRange",value:"",grid:{rowGutter:0,colSpan:7},tailLayout:{labelCol:{span:3},wrapperCol:{span:21}}}]},callback:h,showBtn:!0}),i.a.createElement(u.BasicTable,{ref:t,columns:[{title:"\u767b\u5f55\u540d\u79f0",dataIndex:"userName"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"userAccount"},{title:"\u767b\u5f55\u5730\u5740",dataIndex:"ipAddress"},{title:"\u72b6\u6001",dataIndex:"succeed"},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"createTime"},{title:"\u6d4f\u89c8\u5668\u7248\u672c",dataIndex:"browser",ellipsis:!0}],getListFunc:l.p,rowKey:"loginLogId",pageOption:y.pageOption,searchParam:y.searchParam,callback:function(e){return j(e)}}))}}}]);
//# sourceMappingURL=8.f7c63f47.chunk.js.map