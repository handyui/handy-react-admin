(window["webpackJsonprefo-css"]=window["webpackJsonprefo-css"]||[]).push([[14],{1403:function(e,t,n){"use strict";var r=n(148),a=n(147),c=n(107),i=n(0),o=n.n(i),u=n(1470),s=n(1541),f=n(1535);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=Object(i.forwardRef)(function(e,t){var n=e.columns,a=e.rowKey,l=e.rowSelection,d=e.queryParams,m=e.pageOption,y=e.searchParam,h=e.getListFunc,b=e.type,g=e.onExpand,O=e.callback,v=Object(i.useState)([]),j=Object(c.a)(v,2),w=j[0],P=j[1],x=Object(i.useState)(!1),k=Object(c.a)(x,2),E=k[0],I=k[1],S=n.find(function(e){return"action"===(e.dataIndex||e.key)}),z=S?S.actions:[],C=o.a.useRef(!1),F=function(e){I(!0);var t=p({current:m.current,size:m.pageSize},d,{},y,{},e);h&&h(t).then(function(e){if(200===e.code&&!C.current){var n=e.result,r=n.records,a=n.current,c=n.size,i=n.total;O&&O({searchParam:t,pageOption:{current:a,pageSize:c,total:i}}),b&&"table-tree"===b&&r.forEach(function(e){e.children=[]}),P(r)}}).finally(function(){C.current||I(!1)})},M=function(t,n){return n({record:t,props:e},F)};Object(i.useEffect)(function(){return F(),function(){C.current=!0}},[]),Object(i.useImperativeHandle)(t,function(){return{refreshTable:function(e){F(e)}}});return o.a.createElement(f.a,{rowKey:a,rowSelection:l,columns:function(e){var t=[];return t.push.apply(t,Object(r.a)(e.filter(function(e){return"action"!==e.dataIndex}))),z.length>0&&t.push({title:"\u64cd\u4f5c",key:"action",render:function(e,t){return o.a.createElement(u.b,{size:"middle"},z.map(function(e,n){return["popconfirm"===e.type?o.a.createElement(s.a,{key:n,title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return M(t,e.func)}},o.a.createElement("a",null,"\u5220\u9664")):"","text"===e.type?o.a.createElement("a",{key:n,onClick:function(){return M(t,e.func)}},e.text):""]}))}}),t}(n),dataSource:w,loading:E,pagination:p({},m,{onChange:function(e,t){var n={size:t||m.pageSize,current:e};O&&O({searchParam:y,pageOption:n}),F(n)},pageSizeOptions:["5","10","20","50"],showSizeChanger:!0}),onExpand:g})});d.defaultProps={pageOption:{current:1,pageSize:10},refreshTable:!1},t.a=d},1404:function(e,t){},1407:function(e,t,n){"use strict";var r=n(1403);n.d(t,"BasicTable",function(){return r.a});n(1404)},1408:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return l});var r=n(12),a=function(e){return r.a.get("/veteransPreferential/deletePreferential",{id:e})},c=function(e){return r.a.get("/veteransPreferential/deletePreferentialList",{ids:e})},i=function(e){return r.a.get("/veteransPreferential/getPreferential",{id:e})},o=function(e){return r.a.post("/veteransPreferential/getPreferentialPage",e)},u=function(e){return r.a.post("/veteransPreferential/savePreferential",e)},s=function(e){return r.a.post("/auditRecords/saveAudit",e)},f=function(e){return r.a.get("/veteransBaseInfo/getPreferential",{id:e})},l=function(e){return r.a.post("/veteransBaseInfo/getVeteransPage",e)}},1412:function(e,t,n){"use strict";var r=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=n(10),i=function(e,t){return r.createElement(c.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="DeleteOutlined";t.a=r.forwardRef(i)},1525:function(e,t,n){"use strict";n.r(t);var r=n(42),a=n.n(r),c=n(77),i=n(148),o=n(107),u=n(0),s=n.n(u),f=n(1407),l=n(1408),p=n(1394),d=n(115),m=n(640),y=n(1412),h=n(1405),b=n(50),g=n(69),O=n(84);t.default=function(e){var t=e.history,n=Object(g.c)(function(e){return e.layoutReducer.panes}),r=Object(g.b)(),v=Object(u.useState)([]),j=Object(o.a)(v,2),w=j[0],P=j[1],x=Object(u.useRef)(null),k=Object(u.useRef)(null),E=Object(b.l)(),I=E.pathname,S=E.state,z=Object(u.useState)({pageOption:{},searchParam:{}}),C=Object(o.a)(z,2),F=C[0],M=C[1],N=function(e){var t=n.findIndex(function(t){return Object(b.j)(t.menuPath,{path:e,exact:!0})});if(t>0){var a=n;a.splice(t,1),r(Object(O.e)(Object(i.a)(a)))}},R=function(){var e=Object(c.a)(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N("/soldierManage/martyrFamily/detail/:id"),t.push({pathname:"/soldierManage/martyrFamily/detail/".concat(n.preferentialId),state:{refresh:!0}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=[{title:"\u59d3\u540d",dataIndex:"name",key:"name",render:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[0];n[1];return s.a.createElement("a",{type:"text",onClick:function(){return R(a)}},e)}},{title:"\u8eab\u4efd\u8bc1\u53f7",dataIndex:"idCardNo",key:"idCardNo"},{title:"\u6027\u522b",dataIndex:"sex",key:"sex",render:function(e){return"M"===e?"\u7537":"\u5973"}},{title:"\u6c11\u65cf",dataIndex:"nation",key:"nation"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone",key:"phone"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"stateName",key:"stateName"},{title:"\u884c\u653f\u533a\u5212",dataIndex:"orgName",key:"orgName"},{title:"\u64cd\u4f5c",dataIndex:"action",actions:[{type:"popconfirm",key:"fileid",text:"\u5220\u9664",permission:{action:"delete",effect:"disabled"},props:{type:"danger"},func:function(){var e=Object(c.a)(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.record,e.next=3,Object(l.a)(r.preferentialId);case 3:n();case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{type:"text",key:"fileid",text:"\u7f16\u8f91",props:{type:"danger"},func:function(){var e=Object(c.a)(a.a.mark(function e(n,r){var c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=n.record,N("/soldierManage/martyrFamily/edit/:id"),t.push({pathname:"/soldierManage/martyrFamily/edit/".concat(c.preferentialId),state:{refresh:!0}});case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{type:"text",key:"fileid",text:"\u5ba1\u6838",props:{type:"warning"},func:function(){var e=Object(c.a)(a.a.mark(function e(n,r){var c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=n.record,N("/soldierManage/martyrFamily/audit/:id"),t.push({pathname:"/soldierManage/martyrFamily/audit/".concat(c.preferentialId),state:{refresh:!0}});case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]}],T=function(e){M({pageOption:F.pageOption,searchParam:e}),k.current.refreshTable(e)};Object(u.useEffect)(function(){S&&S.refresh&&"/soldierManage/martyrFamily"===I&&T(F.searchParam)},[S]);return s.a.createElement("div",{className:"content"},s.a.createElement(h.a,{ref:x,dynamicValidateForm:{layout:{labelCol:{span:6},wrapperCol:{span:18}},grid:{rowGutter:10,colSpan:6},formItem:[{type:"input",label:"\u4eba\u5458\u59d3\u540d",field:"name",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u4eba\u5458\u59d3\u540d"}},{type:"input",label:"\u8eab\u4efd\u8bc1\u53f7",field:"idCardNo",value:"",props:{placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7\u7801"}}]},callback:T,showBtn:!0},s.a.createElement(d.a,{type:"primary",ghost:!0,icon:s.a.createElement(m.a,null),onClick:function(){t.push({pathname:"/soldierManage/martyrFamily/add"})}}," \u6dfb\u52a0 "),s.a.createElement(d.a,{danger:!0,icon:s.a.createElement(y.a,null),onClick:function(){p.a.confirm({title:"\u63d0\u793a",icon:"",content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u9009\u4e2d\u5417\uff1f",onOk:function(){var e=Object(c.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(w.toString());case 2:k.current.refreshTable(),P([]);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}}," \u5220\u9664 ")),s.a.createElement(f.BasicTable,{ref:k,columns:B,getListFunc:l.d,queryParams:{type:"300027010"},rowKey:"preferentialId",rowSelection:{selectedRowKeys:w,onChange:function(e){P(e)}},pageOption:F.pageOption,searchParam:F.searchParam,callback:function(e){return M(e)}}))}}}]);
//# sourceMappingURL=14.fd82717e.chunk.js.map